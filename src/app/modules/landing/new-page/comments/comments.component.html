<div class="pb-5">
    <div class="flex justify-between items-center pb-2">
        <div class="text-indigo-900 font-bold text-lg">Bình luận</div>
        <div class="flex justify-end items-center">
            <span class="mr-3">Chia sẻ:</span>
            <div class="mr-2 cursor-pointer">
                <img
                    src="../../../../../assets/icons/icons8-facebook-48.png"
                    class="w-7 h-7"
                    alt=""
                />
            </div>
            <div class="cursor-pointer">
                <img
                    src="../../../../../assets/icons/icons8-facebook-messenger-48.png"
                    class="w-7 h-7"
                    alt=""
                />
            </div>
        </div>
    </div>
    <div class="w-full border-b border-black">
        <form class="rounded-lg bg-white" [formGroup]="subcommentform">
            <ckeditor
                [editor]="Editor"
                #editer
                [config]="config"
                [formControlName]="'comment'"
            ></ckeditor>
            <div class="flex justify-between text-blue-500 items-center p-2">
                <div class="flex items-center cursor-pointer">
                    <div class="relative">
                        <span class="material-icons mr-3"> photo_camera </span>
                        <input
                            id="my_img_field"
                            type="file"
                            class="text-nowrap text-truncate absolute top-1/2 left-1/2 center opacity-0"
                            (change)="selectFile($event)"
                        />
                    </div>

                    <span>Gửi ảnh</span>
                </div>
                <div
                    class="text-white bg-blue-500 px-3 py-1 rounded"
                    (click)="onSubmitSubComment()"
                >
                    Gửi
                </div>
            </div>
            <div class="w-1/3 relative px-2">
                <img id="output" />
                <div
                    class="right-0 top-0 w-5 h-5 absolute"
                    *ngIf="isSelectFile"
                >
                    <span class="material-icons" (click)="removeSelectFile()">
                        cancel
                    </span>
                </div>
            </div>

            <div class="w-full h-px bg-gray-400"></div>
        </form>

        <div class="pt-5" *ngFor="let item of subcomment; let i = index">
            <div class="flex items-center">
                <div
                    class="h-7 w-7 text-lg flex items-center justify-center bg-gray-200 mr-2"
                >
                    C
                </div>
                <p class="font-bold">Cường</p>
            </div>
            <div class="w-1/3 py-2" *ngIf="item.Image != ''">
                <img src="{{ item.Image }}" alt="" />
            </div>
            <div [innerHTML]="item.comment" class="flex flex-col"></div>
            <div>
                <div class="flex items-center pt-2">
                    <span
                        class="text-blue-500 mr-3"
                        (click)="GetidSub(item.id, i)"
                        >Trả lời</span
                    >
                    <span class="text-gray-500">- 6 giờ trước</span>
                </div>
            </div>
            <div>
                <div class="pt-3 relative" *ngIf="item.idSub?.length > 0">
                    <div
                        class="comments p-3 relative"
                        *ngFor="let itemIdSub of item.idSub"
                    >
                        <div class="flex items-center">
                            <div
                                class="h-7 w-7 text-lg flex items-center justify-center bg-gray-200 mr-2"
                            >
                                C
                            </div>
                            <p class="font-bold">Cường</p>
                        </div>
                        <div class="w-1/3 py-2" *ngIf="itemIdSub.Image != ''">
                            <img src="{{ itemIdSub.Image }}" alt="" />
                        </div>
                        <div class="pt-1 flex flex-col">
                            <div [innerHTML]="itemIdSub.comment"></div>
                        </div>
                        <div class="pt-3" (click)="getIdSubChild(item.id, i)">
                            <span class="text-blue-500 mr-3">Trả lời</span>
                        </div>
                        <div
                            class="absolute bottom-0 w-full h-px left-0 bg-gray-300"
                        ></div>
                    </div>
                    <img
                        src="../../../../../assets/images/logo/326524_arrow_drop_up_icon.svg"
                        class="w-5 h-5 absolute top-0 left-1"
                    />
                </div>

                <form
                    class="rounded-lg bg-white"
                    [formGroup]="idsubcommentform"
                    *ngIf="indexSub == i"
                >
                    <ckeditor
                        [editor]="Editor"
                        #editer
                        [config]="config"
                        [formControlName]="'comment'"
                    ></ckeditor>

                    <div
                        class="flex justify-between text-blue-500 items-center py-2"
                    >
                        <div class="flex items-center cursor-pointer">
                            <div class="relative">
                                <span class="material-icons mr-3">
                                    photo_camera
                                </span>
                                <input
                                    id="my_img_field"
                                    type="file"
                                    class="text-nowrap text-truncate absolute top-1/2 left-1/2 center opacity-0"
                                    (change)="selectFile($event)"
                                />
                            </div>

                            <span>Gửi ảnh</span>
                        </div>
                        <div
                            class="text-white bg-blue-500 px-3 py-1 rounded"
                            (click)="onIdSubmitSubComment()"
                        >
                            Gửi
                        </div>
                    </div>
                    <div class="w-1/3 relative px-2" *ngIf="indexSub == i">
                        <img id="output" />
                        <div class="right-0 top-0 w-5 h-5 absolute">
                            <span
                                class="material-icons"
                                (click)="removeSelectFile()"
                            >
                                cancel
                            </span>
                        </div>
                    </div>
                    <div class="w-full h-px bg-gray-400"></div>
                </form>
            </div>
        </div>
    </div>
</div>
